<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title> Blogging with just Org Mode | Radiophonic Oddity</title>
  <meta name="description" content="Musings">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta property="og:title" content="Blogging with just Org Mode" />
<meta property="og:description" content="Why I wanted to learn more about some of the powerful features of Org Mode that I wasn&rsquo;t using or even aware of. It also a good opporunity to learn about and practice my Elisp. I also wanted a setup where I understood more what was going, and have the ability to control and tweak it to suit my needs.
My current blogging setup involved Hugo and Org Mode by using hugo and the excellent packaged ox-hugo that converts my org files to hugo compatible markdown." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://dilzeem.github.io/posts/blogging-with-org/" />
<meta property="article:published_time" content="2021-02-22T00:00:00+01:00" />
<meta property="article:modified_time" content="2021-02-22T00:00:00+01:00" />

  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Blogging with just Org Mode"/>
<meta name="twitter:description" content="Why I wanted to learn more about some of the powerful features of Org Mode that I wasn&rsquo;t using or even aware of. It also a good opporunity to learn about and practice my Elisp. I also wanted a setup where I understood more what was going, and have the ability to control and tweak it to suit my needs.
My current blogging setup involved Hugo and Org Mode by using hugo and the excellent packaged ox-hugo that converts my org files to hugo compatible markdown."/>

  
  
    
  
  
  <link rel="stylesheet" href="https://dilzeem.github.io/css/style-dark.css">
  
  
  
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
<link rel="icon" type="image/png" href="https://dilzeem.github.io/images/favicon.ico" />

  
  
  
  
</head>

<body class="max-width mx-auto px3 ltr">
  <div class="content index py4">

  <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/posts">All posts</a></li>
         
        <li><a href="/tags">Tags</a></li>
         
        <li><a href="/about">About</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li>
          <a class="icon" href=" https://dilzeem.github.io/posts/data-over-code/">
            <i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i>
          </a>
        </li>
        
        
        <li>
          <a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');">
            <i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i>
          </a>
        </li>
        <li>
          <a class="icon" href="#">
            <i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i>
          </a>
        </li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fdilzeem.github.io%2fposts%2fblogging-with-org%2f">
      <i class="fab fa-facebook " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2fdilzeem.github.io%2fposts%2fblogging-with-org%2f&text=Blogging%20with%20just%20Org%20Mode">
      <i class="fab fa-twitter " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fdilzeem.github.io%2fposts%2fblogging-with-org%2f&title=Blogging%20with%20just%20Org%20Mode">
      <i class="fab fa-linkedin " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fdilzeem.github.io%2fposts%2fblogging-with-org%2f&is_video=false&description=Blogging%20with%20just%20Org%20Mode">
      <i class="fab fa-pinterest " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=Blogging%20with%20just%20Org%20Mode&body=Check out this article: https%3a%2f%2fdilzeem.github.io%2fposts%2fblogging-with-org%2f">
      <i class="fas fa-envelope " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2fdilzeem.github.io%2fposts%2fblogging-with-org%2f&title=Blogging%20with%20just%20Org%20Mode">
      <i class="fab fa-get-pocket " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2fdilzeem.github.io%2fposts%2fblogging-with-org%2f&title=Blogging%20with%20just%20Org%20Mode">
      <i class="fab fa-reddit " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2fdilzeem.github.io%2fposts%2fblogging-with-org%2f&title=Blogging%20with%20just%20Org%20Mode">
      <i class="fab fa-stumbleupon " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://digg.com/submit?url=https%3a%2f%2fdilzeem.github.io%2fposts%2fblogging-with-org%2f&title=Blogging%20with%20just%20Org%20Mode">
      <i class="fab fa-digg " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2fdilzeem.github.io%2fposts%2fblogging-with-org%2f&name=Blogging%20with%20just%20Org%20Mode&description=Why%20I%20wanted%20to%20learn%20more%20about%20some%20of%20the%20powerful%20features%20of%20Org%20Mode%20that%20I%20wasn%26rsquo%3bt%20using%20or%20even%20aware%20of.%20It%20also%20a%20good%20opporunity%20to%20learn%20about%20and%20practice%20my%20Elisp.%20I%20also%20wanted%20a%20setup%20where%20I%20understood%20more%20what%20was%20going%2c%20and%20have%20the%20ability%20to%20control%20and%20tweak%20it%20to%20suit%20my%20needs.%0aMy%20current%20blogging%20setup%20involved%20Hugo%20and%20Org%20Mode%20by%20using%20hugo%20and%20the%20excellent%20packaged%20ox-hugo%20that%20converts%20my%20org%20files%20to%20hugo%20compatible%20markdown.">
      <i class="fab fa-tumblr " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fdilzeem.github.io%2fposts%2fblogging-with-org%2f&t=Blogging%20with%20just%20Org%20Mode">
      <i class="fab fa-hacker-news " aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>
    <div id="toc">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#why">Why</a></li>
    <li><a href="#basic-html-file">Basic HTML file</a></li>
    <li><a href="#blog-structure">Blog Structure</a></li>
    <li><a href="#getting-all-the-blog-posts">Getting all the blog posts</a></li>
    <li><a href="#things-left-to-do">Things left to do</a></li>
  </ul>
</nav>
    </div>
  </span>
</div>


  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <header>
      <h1 class="posttitle" itemprop="name headline">
        Blogging with just Org Mode
      </h1>
      <div class="meta">
        
        <div class="postdate">
          
          <time datetime="2021-02-22 00:00:00 &#43;0100 CET" itemprop="datePublished">2021-02-22</time>
          
        </div>
        
        
      </div>
    </header>

  
    <div class="content" itemprop="articleBody">
      <h2 id="why">Why</h2>
<p>I wanted to learn more about some of the powerful features of Org Mode that I wasn&rsquo;t using or even aware of.
It also a good opporunity to learn about and practice my Elisp.
I also wanted a setup where I understood more what was going, and have the ability to control and tweak it to suit my needs.</p>
<p>My current blogging setup involved Hugo and Org Mode by using <a href="https://gohugo.io/">hugo</a>  and the excellent packaged <a href="https://ox-hugo.scripter.co/">ox-hugo</a> that converts my org files to hugo compatible markdown.
However one of things about org mode is being able to directly export to html. So it seems logical that you can use this export functionality to build your static website, without the need of using a tool like Hugo.
From this setup I am aiming to use Org Mode for capturing and writing. I then use frontend tools/technologies for managing styling/layouts.</p>
<p>A lot of the following is inspired by this <a href="https://archive.casouri.cat/note/2018/blog-in-org-mode-revisited/index.html">excellent post</a>. I have made small changes to it that suits my needs, and expanded on some parts.</p>
<h2 id="basic-html-file">Basic HTML file</h2>
<p>Below is a simple Org file, that could be the layout for a blog:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">
* My Awesome Title for My Blog

**  Coding Posts

***  Elisp yay
***  Clojure is awesome

**  Film Posts

***  Really cool movie 1
***  Movie was sad 2
</code></pre></div><p>Export this file as html file you can do this in spacemacs with <code>SPC e e h h</code>.</p>
<p>Once you insepct the file you can see that there is alot of extra things that you probably don&rsquo;t need.
Ideally all I want is from my org file to be converted to html with as minimal amount of html as possible, but still retain its structure.</p>
<p>At the top of your org file you can put the following:</p>
<pre><code class="language-nil" data-lang="nil">#+OPTIONS: html-style:nil
</code></pre><p>This essentially will remove all the styling from your the html export. Export it again and inspect the html file and you see will see a little less clutter.</p>
<p>By setting <code>html-style:nil</code> makes it easier for me to add my own css styles later on and customize exactly how my site should look like.
We can add a reference to our custom styles by adding the following of the org file.</p>
<pre><code class="language-nil" data-lang="nil">#+HTML_HEAD: &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;custom_styles.css&quot;/&gt;
#+HTML_HEAD_EXTRA:&lt;link rel=&quot;icon&quot; type=&quot;image/png&quot; href=&quot;favicon.png&quot;&gt;
</code></pre><p>If you export the org file and inspect html file you will see the above lines.</p>
<p>When you view your html file, you will see that there two anchor links. One linking to <code>HOME</code> and the other linking to <code>UP</code>.
We can customize where these will link to by adding the following in the top of our org file.</p>
<pre><code class="language-nil" data-lang="nil">#+HTML_LINK_HOME: /
#+HTML_LINK_UP: /
</code></pre><p>But what about if we want to customize <code>HOME</code> and <code>UP</code>. Or have more than two links. This is where Local Variables come in.
These essentially act as variables you can set for the file in the org file.</p>
<p>Below is how I set the format of the <code>home/up</code> format.
In addition I can add a preamble, which is useful some sort of meta information. For example when the last time the file was modified/exported.</p>
<pre><code class="language-nil" data-lang="nil"># local variables:
# org-html-home/up-format: &quot;&lt;div id=\&quot;org-div-home-and-up-index-page\&quot;&gt; &lt;a accesskey=\&quot;h\&quot; href=\&quot;%s\&quot;&gt; UP &lt;/a&gt; | &lt;a accesskey=\&quot;H\&quot; href=\&quot;%s\&quot;&gt; HOME &lt;/a&gt; &lt;/div&gt; &lt;div&gt; &lt;a href=\&quot;./index.xml\&quot;&gt; RSS &lt;/a&gt; | &lt;a href=\&quot;https://github.com/dilzeem/dilzeem.github.io\&quot;&gt; Source &lt;/a&gt; | &lt;a href=\&quot;https://creativecommons.org/licenses/by-sa/4.0/\&quot;&gt; License &lt;/a&gt; &lt;/div&gt; &lt;/div&gt;&quot;
# org-html-postamble-format: ((&quot;en&quot; &quot;&lt;p class=\&quot;Last Modified Time\&quot;&gt;%T&lt;/p&gt; &lt;p class=\&quot;date\&quot;&gt;%d&lt;/p&gt;&quot;))
# end:
</code></pre><p>While the above looks like a mess, below you can see it</p>
<p><code>org-html-home/up-format</code></p>
<p>Below one more links have been added  <code>Source</code> and we have removed the <code>UP</code> link.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">
&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;org-div-home-and-up-index-page&#34;</span>&gt;
 &lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">accesskey</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;H&#34;</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;index.html&#34;</span>&gt; HOME &lt;/<span style="color:#f92672">a</span>&gt; | &lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://github.com/dilzeem/dilzeem.github.io\&#34;</span>&gt; Source &lt;/<span style="color:#f92672">a</span>&gt;
&lt;/<span style="color:#f92672">div</span>&gt;
</code></pre></div><p><code>org-html-postamble-format</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">p</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Last Modified Time&#34;</span>&gt;%T&lt;/<span style="color:#f92672">p</span>&gt; &lt;<span style="color:#f92672">p</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;date&#34;</span>&gt;%d&lt;/<span style="color:#f92672">p</span>&gt;
</code></pre></div><p>Finally we just make sure that the preamble is set for our project and we set the postamble to nil.
If you look at the previous exports of your html file, you will see some meta information a the bottom of the html file. By setting the post-amble to nil we remove such information.</p>
<pre><code class="language-nil" data-lang="nil">#+OPTIONS: html-preamble:t
#+OPTIONS: html-postamble:nil
</code></pre><p>After all that your org file should something along the lines of this:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">#+HTML_HEAD: &lt;link rel=&#34;stylesheet&#34; type=&#34;text/css&#34; href=&#34;custom_styles.css&#34;/&gt;
#+HTML_HEAD_EXTRA:&lt;link rel=&#34;icon&#34; type=&#34;image/png&#34; href=&#34;favicon.png&#34;&gt;
#+OPTIONS: html-style:nil
#+OPTIONS: html-preamble:nil
#+OPTIONS: html-postamble:t

      * My Awesome Title for My Blog

      **  Coding Posts

      ***  Elisp yay
      ***  Clojure is awesome

      **  Film Posts

      ***  Really cool movie 1
      ***  Movie was sad 2

# local variables:
# org-html-home/up-format: &#34;&lt;div id=\&#34;org-div-home-and-up-index-page\&#34;&gt; &lt;a accesskey=\&#34;h\&#34; href=\&#34;%s\&#34;&gt; UP &lt;/a&gt; | &lt;a accesskey=\&#34;H\&#34; href=\&#34;%s\&#34;&gt; HOME &lt;/a&gt; &lt;/div&gt; &lt;div&gt; &lt;a href=\&#34;./index.xml\&#34;&gt; RSS &lt;/a&gt; | &lt;a href=\&#34;https://github.com/dilzeem/dilzeem.github.io\&#34;&gt; Source &lt;/a&gt; | &lt;a href=\&#34;https://creativecommons.org/licenses/by-sa/4.0/\&#34;&gt; License &lt;/a&gt; &lt;/div&gt; &lt;/div&gt;&#34;
# org-html-preamble-format: ((&#34;en&#34; &#34;&lt;p class=\&#34;Last Modified Time\&#34;&gt;%T&lt;/p&gt; &lt;p class=\&#34;date\&#34;&gt;%d&lt;/p&gt;&#34;))
# end:
</code></pre></div><p>And after you export it you should have a pretty basic html file. Now this serves as a great starting point to actually start styling your blog with CSS. Placing this file <code>custom_styles.css</code>, in the root of your where your file will be exported.</p>
<h2 id="blog-structure">Blog Structure</h2>
<p>Right now we have exported a single html file from one org file. We could easily create a new org file for each of our new blog post.
However this would mean I would need to set up a template with all the meta information as described in the previous section.</p>
<p>To avoid this we can just use one org file with each org heading being a new post. To export we can use the function inbuilt into export function Emacs that allows us to export the subtree.</p>
<p>In spacemacs this would be <code>SPC m e e</code> and then press <code>C-s</code> to toggle exporting only the subtree to html. This means all the meta values we put in the org file will be used for the sub tree export.</p>
<p>When we export our posts it would also be nice to have some control over what the file should be called, and specify other meta information.
This will can be achieved by adding a properties drawer under the heading/blog in questions.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">:PROPERTIES:
:EXPORT_FILE_NAME: ./posts/2018-10-02-first-post.html
:EXPORT_DATE: &lt;2018-10-07 Sun&gt;
:END:
</code></pre></div><p>As you can see we have a specific that we have named the html file. This is useful for us later when we need sort all our posts.</p>
<p>So our org file is as follows:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">
#+begin_src text
#+HTML_HEAD: &lt;link rel=&#34;stylesheet&#34; type=&#34;text/css&#34; href=&#34;custom_styles.css&#34;/&gt;
#+HTML_HEAD_EXTRA:&lt;link rel=&#34;icon&#34; type=&#34;image/png&#34; href=&#34;favicon.png&#34;&gt;
#+OPTIONS: html-style:nil
#+OPTIONS: html-preamble:t
#+OPTIONS: html-postamble:nil

      * My Awesome Title for My Blog

      **  Coding Posts

      ***  Elisp yay
      :PROPERTIES:
      :EXPORT_FILE_NAME: ./posts/2018-10-02-first-post.html
      :EXPORT_DATE: &lt;2018-10-02 Sun&gt;
      :END:

      ***  Clojure is awesome
      :PROPERTIES:
      :EXPORT_FILE_NAME: ./posts/2018-10-03-second-post.html
      :EXPORT_DATE: &lt;2018-10-03 Sun&gt;
      :END:

      **  Film Posts

      ***  Really cool movie 1
      ***  Movie was sad 2

# local variables:
# org-html-home/up-format: &#34;&lt;div id=\&#34;org-div-home-and-up-index-page\&#34;&gt; &lt;a accesskey=\&#34;h\&#34; href=\&#34;%s\&#34;&gt; UP &lt;/a&gt; | &lt;a accesskey=\&#34;H\&#34; href=\&#34;%s\&#34;&gt; HOME &lt;/a&gt; &lt;/div&gt; &lt;div&gt; &lt;a href=\&#34;./index.xml\&#34;&gt; RSS &lt;/a&gt; | &lt;a href=\&#34;https://github.com/dilzeem/dilzeem.github.io\&#34;&gt; Source &lt;/a&gt; | &lt;a href=\&#34;https://creativecommons.org/licenses/by-sa/4.0/\&#34;&gt; License &lt;/a&gt; &lt;/div&gt; &lt;/div&gt;&#34;
# org-html-preamble-format: ((&#34;en&#34; &#34;&lt;p class=\&#34;Last Modified Time\&#34;&gt;%T&lt;/p&gt; &lt;p class=\&#34;date\&#34;&gt;%d&lt;/p&gt;&#34;))
# end:
</code></pre></div><p>#+end_src</p>
<h2 id="getting-all-the-blog-posts">Getting all the blog posts</h2>
<p>Now that we have a way to manage our blog posts. The final piece of the puzzle is how do we list all our posts and by the order that they were created?
This is where we have to learn a little bit of Elisp.</p>
<p>Here are some useful resources that can you get started with elips:</p>
<p><a href="http://ergoemacs.org/emacs/elisp%5Fmapcar%5Floop.html">http://ergoemacs.org/emacs/elisp%5Fmapcar%5Floop.html</a>
<a href="https://www.gnu.org/software/emacs/manual/html%5Fnode/elisp/index.html#Top">https://www.gnu.org/software/emacs/manual/html%5Fnode/elisp/index.html#Top</a></p>
<p>First thing is we can run the function <code>directory-files</code> and see what we get.
To see documentation of the function you can easily look it up in spacemacs with <code>SPC h d f</code> which brings up a prompt where you can type the function you want to look at.</p>
<p>If you run the following, you will get a list of all the files in your directory.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-elisp" data-lang="elisp">(<span style="color:#a6e22e">directory-files</span> <span style="color:#e6db74">&#34;.&#34;</span>)
</code></pre></div><p>What we need to do instead is get a list of all the html files in the <code>posts</code> directory. The <code>nil</code> refers to the not returning the full path of the files but the relative paths instead.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-elisp" data-lang="elisp">(<span style="color:#a6e22e">directory-files</span> <span style="color:#e6db74">&#34;./posts/&#34;</span> <span style="color:#66d9ef">nil</span> <span style="color:#e6db74">&#34;.html&#34;</span>)
</code></pre></div><p>What we would get returned is a list of file paths. What we would like to do iterate through the list and then do some formatting.
The actual thing we would like to extract is the title date of our posts.</p>
<p>To iterate over the list we can use <code>dolist</code> and <code>let</code>.</p>
<p>In the following we set <code>x</code> as an item from list of posts filenames from above.
Then we have the <code>value</code> which empty initially. We uses this to store the transformed file paths.</p>
<p><code>progn</code> will run code sequentially, and all we do here is the following blocks of code is extract the title, date and entire filepath.
All this is required for when we need to write this out later as part of our list of links to all our posts that will be in our Home page of the blog.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-elisp" data-lang="elisp">
(setq posts (let (value filepath title date)
              (dolist (x (<span style="color:#a6e22e">directory-files</span> <span style="color:#e6db74">&#34;./posts&#34;</span> <span style="color:#66d9ef">nil</span> <span style="color:#e6db74">&#34;.html&#34;</span>)
                       value)
                (progn
                  (setq filepath x)
                  (setq title (s-titleized-words (<span style="color:#a6e22e">substring</span> x <span style="color:#ae81ff">10</span> <span style="color:#66d9ef">nil</span>)))
                  (setq date  (<span style="color:#a6e22e">substring</span> x <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">10</span>))
                  (setq value (push (<span style="color:#a6e22e">list</span> filepath title date) value))))))
</code></pre></div><p>Our posts will be in list and look something like the following:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">
((2020-01-09-the-second-post.html The Second Post Html 2020-01-09)
 (2020-01-06-the-first-posts.html The First Posts Html 2020-01-08))
</code></pre></div><p>What we need to is to transform the list into org heading links. This is done from the following snippet of code.
Note <code>posts</code> is from the previous section.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-elisp" data-lang="elisp">
(string-join (<span style="color:#a6e22e">mapcar</span> (lambda (p)
                       (<span style="color:#a6e22e">format</span> <span style="color:#e6db74">&#34;* [[./%s][%s]] %s\n\n&#34;</span> (<span style="color:#a6e22e">nth</span> <span style="color:#ae81ff">0</span> p)
                               (<span style="color:#a6e22e">nth</span> <span style="color:#ae81ff">1</span> p)
                               (<span style="color:#a6e22e">nth</span> <span style="color:#ae81ff">2</span> p)))
                     posts))
</code></pre></div><p>What we end up getting are org headings as follows:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">
&#39;* [[./2020-01-09-the-second-post.html][The Second Post Html]] 2020-01-09

&#39;* [[./2020-01-06-the-first-posts.html][The First Posts Html]] 2020-01-06
</code></pre></div><p>Now after figuring out the elisp needed to read the blog html files and outputs them as headings we can put it all in a single function.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-elisp" data-lang="elisp">
(string-join (<span style="color:#a6e22e">mapcar</span>
              (lambda (p)
                (<span style="color:#a6e22e">format</span> <span style="color:#e6db74">&#34;[[./%s][%s]] %s\n\n&#34;</span>
                        (<span style="color:#a6e22e">nth</span> <span style="color:#ae81ff">0</span> p) (<span style="color:#a6e22e">nth</span> <span style="color:#ae81ff">1</span> p) (<span style="color:#a6e22e">nth</span> <span style="color:#ae81ff">2</span> p)))
              (let (value filepath title date)
                (dolist (x (<span style="color:#a6e22e">directory-files</span> <span style="color:#e6db74">&#34;./posts&#34;</span> <span style="color:#66d9ef">nil</span> <span style="color:#e6db74">&#34;.html&#34;</span>) value)
                  (progn (setq filepath x)
                         (setq title (s-titleized-words (<span style="color:#a6e22e">substring</span> x <span style="color:#ae81ff">10</span> <span style="color:#66d9ef">nil</span>)))
                         (setq date  (<span style="color:#a6e22e">substring</span> x <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">10</span>))
                         (setq value (push (<span style="color:#a6e22e">list</span> filepath title date) value)))))))
</code></pre></div><p>The final thing to put this all together, and make it work with our org file is add special line that defines a macro that we can use within the code.
Below define the macro to be called <code>posts</code> which is essentially what have defined above.</p>
<p>Now if we wish to use this macro we can add the following <code>{{{posts()}}}</code> anywhere in org file, and it will run the code.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">#+MACRO: posts (eval (string-join (mapcar (lambda (p) (format &#34;[[./%s][%s]] %s\n\n&#34; (nth 0 p) (nth 1 p) (nth 2 p))) (let (value filepath title date) (dolist (x (directory-files &#34;./posts&#34; nil &#34;.html&#34;) value) (progn (setq filepath x) (setq title (s-titleized-words (substring x 10 nil))) (setq date  (substring x 0 10)) (setq value (push (list filepath title date) value))))))))


{{{posts()}}}
</code></pre></div><p>So our final org file looks like this</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">
#+HTML_HEAD: &lt;link rel=&#34;stylesheet&#34; type=&#34;text/css&#34; href=&#34;custom_styles.css&#34;/&gt;
#+HTML_HEAD_EXTRA:&lt;link rel=&#34;icon&#34; type=&#34;image/png&#34; href=&#34;favicon.png&#34;&gt;
#+OPTIONS: html-style:nil
#+OPTIONS: html-preamble:nil
#+OPTIONS: html-postamble:t
#+MACRO: posts (eval (string-join (mapcar (lambda (p) (format &#34;[[./%s][%s]] %s\n\n&#34; (nth 0 p) (nth 1 p) (nth 2 p))) (let (value filepath title date) (dolist (x (directory-files &#34;./posts&#34; nil &#34;.html&#34;) value) (progn (setq filepath x) (setq title (s-titleized-words (substring x 10 nil))) (setq date  (substring x 0 10)) (setq value (push (list filepath title date) value))))))))

      * My Awesome Title for My Blog

      ** Index

      {{{posts()}}}

      **  Coding Posts

      ***  Elisp yay
      :PROPERTIES:
      :EXPORT_FILE_NAME: ./posts/2018-10-02-first-post.html
      :EXPORT_DATE: &lt;2018-10-02 Sun&gt;
      :END:

            ***  Clojure is awesome
      :PROPERTIES:
      :EXPORT_FILE_NAME: ./posts/2018-10-03-second-post.html
      :EXPORT_DATE: &lt;2018-10-03 Sun&gt;
      :END:


      **  Film Posts

      ***  Really cool movie 1
      ***  Movie was sad 2

# local variables:
# org-html-home/up-format: &#34;&lt;div id=\&#34;org-div-home-and-up-index-page\&#34;&gt; &lt;a accesskey=\&#34;h\&#34; href=\&#34;%s\&#34;&gt; UP &lt;/a&gt; | &lt;a accesskey=\&#34;H\&#34; href=\&#34;%s\&#34;&gt; HOME &lt;/a&gt; &lt;/div&gt; &lt;div&gt; &lt;a href=\&#34;./index.xml\&#34;&gt; RSS &lt;/a&gt; | &lt;a href=\&#34;https://github.com/casouri/casouri.github.io\&#34;&gt; Source &lt;/a&gt; | &lt;a href=\&#34;https://creativecommons.org/licenses/by-sa/4.0/\&#34;&gt; License &lt;/a&gt; &lt;/div&gt; &lt;/div&gt;&#34;
# org-html-preamble-format: ((&#34;en&#34; &#34;&lt;p class=\&#34;Last Modified Time\&#34;&gt;%T&lt;/p&gt; &lt;p class=\&#34;date\&#34;&gt;%d&lt;/p&gt;&#34;))
# end:
</code></pre></div><h2 id="things-left-to-do">Things left to do</h2>
<p>There a few things I would like to work on.</p>
<ul>
<li>Found a way to export all the subtree with one command (similar to what ox-hugo does)</li>
<li>CSS for the site</li>
<li>Clojure/Hoplon incorporation with static pages</li>
</ul>

    </div>
  </article>

  
  





  <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/posts">All posts</a></li>
         
          <li><a href="/tags">Tags</a></li>
         
          <li><a href="/about">About</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#why">Why</a></li>
    <li><a href="#basic-html-file">Basic HTML file</a></li>
    <li><a href="#blog-structure">Blog Structure</a></li>
    <li><a href="#getting-all-the-blog-posts">Getting all the blog posts</a></li>
    <li><a href="#things-left-to-do">Things left to do</a></li>
  </ul>
</nav>
    </div>

    <div id="share-footer" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fdilzeem.github.io%2fposts%2fblogging-with-org%2f">
      <i class="fab fa-facebook fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2fdilzeem.github.io%2fposts%2fblogging-with-org%2f&text=Blogging%20with%20just%20Org%20Mode">
      <i class="fab fa-twitter fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fdilzeem.github.io%2fposts%2fblogging-with-org%2f&title=Blogging%20with%20just%20Org%20Mode">
      <i class="fab fa-linkedin fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fdilzeem.github.io%2fposts%2fblogging-with-org%2f&is_video=false&description=Blogging%20with%20just%20Org%20Mode">
      <i class="fab fa-pinterest fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=Blogging%20with%20just%20Org%20Mode&body=Check out this article: https%3a%2f%2fdilzeem.github.io%2fposts%2fblogging-with-org%2f">
      <i class="fas fa-envelope fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2fdilzeem.github.io%2fposts%2fblogging-with-org%2f&title=Blogging%20with%20just%20Org%20Mode">
      <i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2fdilzeem.github.io%2fposts%2fblogging-with-org%2f&title=Blogging%20with%20just%20Org%20Mode">
      <i class="fab fa-reddit fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2fdilzeem.github.io%2fposts%2fblogging-with-org%2f&title=Blogging%20with%20just%20Org%20Mode">
      <i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://digg.com/submit?url=https%3a%2f%2fdilzeem.github.io%2fposts%2fblogging-with-org%2f&title=Blogging%20with%20just%20Org%20Mode">
      <i class="fab fa-digg fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2fdilzeem.github.io%2fposts%2fblogging-with-org%2f&name=Blogging%20with%20just%20Org%20Mode&description=Why%20I%20wanted%20to%20learn%20more%20about%20some%20of%20the%20powerful%20features%20of%20Org%20Mode%20that%20I%20wasn%26rsquo%3bt%20using%20or%20even%20aware%20of.%20It%20also%20a%20good%20opporunity%20to%20learn%20about%20and%20practice%20my%20Elisp.%20I%20also%20wanted%20a%20setup%20where%20I%20understood%20more%20what%20was%20going%2c%20and%20have%20the%20ability%20to%20control%20and%20tweak%20it%20to%20suit%20my%20needs.%0aMy%20current%20blogging%20setup%20involved%20Hugo%20and%20Org%20Mode%20by%20using%20hugo%20and%20the%20excellent%20packaged%20ox-hugo%20that%20converts%20my%20org%20files%20to%20hugo%20compatible%20markdown.">
      <i class="fab fa-tumblr fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fdilzeem.github.io%2fposts%2fblogging-with-org%2f&t=Blogging%20with%20just%20Org%20Mode">
      <i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>

    <div id="actions-footer">
      
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;">
          <i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;">
          <i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;">
          <i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');">
          <i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>


  <footer id="footer">
  <div class="footer-left">
    Copyright  &copy; 2021  Radiophonic Oddity 
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/posts">All posts</a></li>
         
        <li><a href="/tags">Tags</a></li>
         
        <li><a href="/about">About</a></li>
        
      </ul>
    </nav>
  </div>
</footer>


  </div>
</body>

<link rel="stylesheet" href=/lib/font-awesome/css/all.min.css>
<script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script>


  


<script>
  MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']]
    },
    svg: {
      fontCache: 'global'
    }
  };
</script>
<script type="text/javascript" id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>

</html>
